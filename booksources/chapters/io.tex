% -*- latex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%
%%%% This text file is part of the source of 
%%%% `Parallel Computing'
%%%% by Victor Eijkhout, copyright 2016
%%%%
%%%% io.tex : about parallel I/O
%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Parallel I/O is a tricky subject. You can try to let all processors
jointly write one file, or to write a file per process and combine
them later. With the standard mechanisms of your programming language
there are the following considerations:
\begin{itemize}
\item On clusters where the processes have individual file systems,
  the only way to write a single file is to let it be generated by a
  single processor.
\item Writing one file per process is easy to do, but
  \begin{itemize}
  \item You need a post-processing script;
  \item if the files are not on a shared file system (such as
    \indexterm{Lustre}), it takes additional effort to bring them
    together;
  \item if the files \emph{are} on a shared file system, writing many
    files may be a burden on the metadata server.
  \end{itemize}
\item On a shared file system it is possible for all files to open the
  same file and set the file pointer individually. This can be
  difficult if the amount of data per process is not uniform.
\end{itemize}
Illustrating the last point:
%
\verbatimsnippet{pseek}

MPI also has its own portable I/O: \indextermbus{MPI}{I/O}.

Alternatively, one could use a library such as \indexterm{hdf5}.
